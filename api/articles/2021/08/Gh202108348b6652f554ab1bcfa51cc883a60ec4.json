{"title":"独立子站 PWA 化测试","slug":"2021/08/Gh202108348b6652f554ab1bcfa51cc883a60ec4","date":"2021-08-02T04:04:14.000Z","updated":"2021-08-02T04:24:04.688Z","comments":true,"path":"api/articles/2021/08/Gh202108348b6652f554ab1bcfa51cc883a60ec4.json","excerpt":null,"covers":null,"content":"<blockquote>\n<p>Progressive Web Apps are web apps that use emerging web browser APIs and features along with traditional progressive enhancement strategy to bring a native app-like user experience to cross-platform web applications. Progressive Web Apps are a useful design pattern, though they aren’t a formalized standard. PWA can be thought of as similar to AJAX or other similar patterns that encompass a set of application attributes, including use of specific web technologies and techniques. This set of docs tells you all you need to know about them.<br> –<a href=\"https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps\"></a></p>\n</blockquote>\n<h2 id=\"Manifest\"><a href=\"#Manifest\" class=\"headerlink\" title=\"Manifest\"></a>Manifest</h2><p>在工程 <code>source</code> 目录下新建 <code>manifest.json</code> 文件</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;short_name&quot;</span>: <span class=\"string\">&quot;X-Zone&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span>: <span class=\"string\">&quot;未解领域&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;icon&quot;</span>: [&#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;src&quot;</span>: <span class=\"string\">&quot;images/logo.png&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;image/png&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;sizes&quot;</span>: <span class=\"string\">&quot;512x512&quot;</span></span><br><span class=\"line\">  &#125;],</span><br><span class=\"line\">  <span class=\"attr\">&quot;background_color&quot;</span>: <span class=\"string\">&quot;#ffffff&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;display&quot;</span>: <span class=\"string\">&quot;standalone&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;start_url&quot;</span>: <span class=\"string\">&quot;index.html&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>可以设主题色和背景色，这里简单起见全部成为F</p>\n<h2 id=\"Service-Worker\"><a href=\"#Service-Worker\" class=\"headerlink\" title=\"Service Worker\"></a>Service Worker</h2><p>使用 <code>hexo-offline-popup</code> 插件</p>\n<p>配置方式参照<a href=\"https://github.com/Colsrch/hexo-offline-popup\">项目文档</a>或是<a href=\"https://blog.csdn.net/qq_42830477/article/details/107296226\">这篇文章</a></p>\n<p>注意： 由于插件把 <code>sw.js</code> 文件放在了域名根目录 <code>/</code> 下，所以配置了自定义域名才能很好地工作 </p>\n<h2 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h2><p>在 Matataki 发布/修改文章，会触发站点的重新构建，界面会有推送通知，刷新后可看到最新的变更。</p>\n<p>这篇文章对应的独立子站页面：<br><a href=\"https://metaspace.federarks.xyz/2021/08/Gh202108348b6652f554ab1bcfa51cc883a60ec4/\">https://metaspace.federarks.xyz/2021/08/Gh202108348b6652f554ab1bcfa51cc883a60ec4/</a></p>\n<p><a href=\"https://metaspace.federarks.xyz/\">https://metaspace.federarks.xyz/</a> 站点链接，移动端打开可以尝试【添加到主屏幕】（可以想象微信小程序），效果比起一般的页面是会更加接近原生 APP 的</p>\n","more":"<blockquote>\n<p>Progressive Web Apps are web apps that use emerging web browser APIs and features along with traditional progressive enhancement strategy to bring a native app-like user experience to cross-platform web applications. Progressive Web Apps are a useful design pattern, though they aren’t a formalized standard. PWA can be thought of as similar to AJAX or other similar patterns that encompass a set of application attributes, including use of specific web technologies and techniques. This set of docs tells you all you need to know about them.<br> –<a href=\"https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps\"></a></p>\n</blockquote>\n<h2 id=\"Manifest\"><a href=\"#Manifest\" class=\"headerlink\" title=\"Manifest\"></a>Manifest</h2><p>在工程 <code>source</code> 目录下新建 <code>manifest.json</code> 文件</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;short_name&quot;</span>: <span class=\"string\">&quot;X-Zone&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;name&quot;</span>: <span class=\"string\">&quot;未解领域&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;icon&quot;</span>: [&#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;src&quot;</span>: <span class=\"string\">&quot;images/logo.png&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;image/png&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;sizes&quot;</span>: <span class=\"string\">&quot;512x512&quot;</span></span><br><span class=\"line\">  &#125;],</span><br><span class=\"line\">  <span class=\"attr\">&quot;background_color&quot;</span>: <span class=\"string\">&quot;#ffffff&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;display&quot;</span>: <span class=\"string\">&quot;standalone&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;start_url&quot;</span>: <span class=\"string\">&quot;index.html&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>可以设主题色和背景色，这里简单起见全部成为F</p>\n<h2 id=\"Service-Worker\"><a href=\"#Service-Worker\" class=\"headerlink\" title=\"Service Worker\"></a>Service Worker</h2><p>使用 <code>hexo-offline-popup</code> 插件</p>\n<p>配置方式参照<a href=\"https://github.com/Colsrch/hexo-offline-popup\">项目文档</a>或是<a href=\"https://blog.csdn.net/qq_42830477/article/details/107296226\">这篇文章</a></p>\n<p>注意： 由于插件把 <code>sw.js</code> 文件放在了域名根目录 <code>/</code> 下，所以配置了自定义域名才能很好地工作 </p>\n<h2 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h2><p>在 Matataki 发布/修改文章，会触发站点的重新构建，界面会有推送通知，刷新后可看到最新的变更。</p>\n<p>这篇文章对应的独立子站页面：<br><a href=\"https://metaspace.federarks.xyz/2021/08/Gh202108348b6652f554ab1bcfa51cc883a60ec4/\">https://metaspace.federarks.xyz/2021/08/Gh202108348b6652f554ab1bcfa51cc883a60ec4/</a></p>\n<p><a href=\"https://metaspace.federarks.xyz/\">https://metaspace.federarks.xyz/</a> 站点链接，移动端打开可以尝试【添加到主屏幕】（可以想象微信小程序），效果比起一般的页面是会更加接近原生 APP 的</p>\n","categories":[],"tags":[]}