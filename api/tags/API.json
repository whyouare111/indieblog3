{"name":"API","postlist":[{"title":"非同步文章测试","slug":"非同步文章测试","date":"2021-05-19T07:40:59.000Z","updated":"2021-08-03T03:50:44.062Z","comments":true,"path":"api/articles/非同步文章测试.json","excerpt":null,"keywords":"web3 8-bit Metaverse 元宇宙","cover":null,"content":"","raw":null,"categories":[{"name":"demo","path":"api/categories/demo.json"}],"tags":[{"name":"hexo","path":"api/tags/hexo.json"},{"name":"API","path":"api/tags/API.json"}]},{"title":"独立子站 AS API","slug":"2021/08/Gh20210829a2d72ea0bd51d907a0f53a7560a097","date":"2021-08-02T04:23:50.000Z","updated":"2021-08-03T03:50:44.062Z","comments":true,"path":"api/articles/2021/08/Gh20210829a2d72ea0bd51d907a0f53a7560a097.json","excerpt":null,"keywords":"web3 8-bit Metaverse 元宇宙","cover":null,"content":"<p>基于 <a href=\"https://github.com/yscoder/hexo-generator-restful\">hexo-generator-restful</a> 实现</p>\n<p>找到自己独立子站对应的Github 工程的 <code>package.json</code> 文件，加上对应依赖 <code>&quot;hexo-generator-restful&quot;: &quot;^0.2.3&quot;,</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;dependencies&quot;</span>: &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo&quot;</span>: <span class=\"string\">&quot;^5.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-generator-archive&quot;</span>: <span class=\"string\">&quot;^1.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-generator-category&quot;</span>: <span class=\"string\">&quot;^1.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-generator-feed&quot;</span>: <span class=\"string\">&quot;^3.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-generator-index&quot;</span>: <span class=\"string\">&quot;^2.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-generator-restful&quot;</span>: <span class=\"string\">&quot;^0.2.3&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-generator-search&quot;</span>: <span class=\"string\">&quot;^2.4.2&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-generator-tag&quot;</span>: <span class=\"string\">&quot;^1.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-offline-popup&quot;</span>: <span class=\"string\">&quot;^1.0.3&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-renderer-ejs&quot;</span>: <span class=\"string\">&quot;^1.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-renderer-marked&quot;</span>: <span class=\"string\">&quot;^4.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-renderer-stylus&quot;</span>: <span class=\"string\">&quot;^2.0.0&quot;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">&quot;hexo-server&quot;</span>: <span class=\"string\">&quot;^2.0.0&quot;</span></span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n\n<p>找到 <code>_config.yml</code> 文件，加上如下配置</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">restful:</span></span><br><span class=\"line\">  <span class=\"comment\"># site 可配置为数组选择性生成某些属性</span></span><br><span class=\"line\">  <span class=\"comment\"># site: [&#x27;title&#x27;, &#x27;subtitle&#x27;, &#x27;description&#x27;, &#x27;author&#x27;, &#x27;since&#x27;, email&#x27;, &#x27;favicon&#x27;, &#x27;avatar&#x27;]</span></span><br><span class=\"line\">  <span class=\"attr\">site:</span> <span class=\"literal\">true</span> <span class=\"comment\"># hexo.config mix theme.config</span></span><br><span class=\"line\">  <span class=\"attr\">posts_size:</span> <span class=\"number\">10</span> <span class=\"comment\"># 文章列表分页，0 表示不分页</span></span><br><span class=\"line\">  <span class=\"attr\">posts_props:</span> <span class=\"comment\"># 文章列表项的需要生成的属性</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">slug:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">date:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">updated:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">comments:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">path:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">excerpt:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">cover:</span> <span class=\"literal\">true</span> <span class=\"comment\"># 封面图，取文章第一张图片</span></span><br><span class=\"line\">    <span class=\"attr\">content:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">keywords:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">categories:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">tags:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">categories:</span> <span class=\"literal\">true</span> <span class=\"comment\"># 分类数据</span></span><br><span class=\"line\">  <span class=\"attr\">use_category_slug:</span> <span class=\"literal\">false</span> <span class=\"comment\"># Use slug for filename of category data</span></span><br><span class=\"line\">  <span class=\"attr\">tags:</span> <span class=\"literal\">true</span> <span class=\"comment\"># 标签数据</span></span><br><span class=\"line\">  <span class=\"attr\">use_tag_slug:</span> <span class=\"literal\">false</span> <span class=\"comment\"># Use slug for filename of tag data</span></span><br><span class=\"line\">  <span class=\"attr\">post:</span> <span class=\"literal\">true</span> <span class=\"comment\"># 文章数据</span></span><br><span class=\"line\">  <span class=\"attr\">pages:</span> <span class=\"literal\">false</span> <span class=\"comment\"># 额外的 Hexo 页面数据, 如 About</span></span><br></pre></td></tr></table></figure>\n<p>可以根据自己需要调整。需要注意的是，如果有在配置文件里放 privateKey / password 等敏感数据，要注意可能会被生成站点信息 生成出来，这种情况下先把 <code>site: true</code> 部分改成 <code>site: false</code> 为好</p>\n<p>提交之后等待站点重新构建，然后看是否有生成对应的 API 文件，如：<br><code>https://metaspace.federarks.xyz/api/posts.json</code></p>\n<p>生成了就说明成功了。<br>可以把这个作为后端API，开发第三方前端来匹配，或是给 APP 等供源。</p>\n","raw":null,"categories":[],"tags":[{"name":"Hexo","path":"api/tags/Hexo.json"},{"name":"API","path":"api/tags/API.json"}]}]}